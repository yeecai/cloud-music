{"version":3,"sources":["baseUI/header/index.js","baseUI/music-note/index.js","application/SongList/style.js","application/SongList/index.js","application/Singer/style.js","application/Singer/index.js"],"names":["HeaderContainer","styled","div","style","Header","React","forwardRef","props","ref","handleClick","title","className","onClick","defaultProps","memo","Container","MusicNote","iconsRef","useRef","transform","prefixStyle","startAnimation","x","y","i","item","slice","call","current","children","running","left","top","display","setTimeout","querySelector","useImperativeHandle","createNode","text","template","tempNode","document","createElement","innerHTML","firstChild","useEffect","node","appendChild","forEach","addEventListener","this","SongList","SongItem","ul","noWrap","SongsList","refs","savedCount","songs","showSaved","changePlayListDispatch","changeCurrentIndexDispatch","changeSequecePlayListDispatch","musicAnimation","selectItem","e","index","nativeEvent","clientX","clientY","length","Math","floor","savedBy","map","key","name","ar","getName","artists","al","album","connect","dispatch","data","changePlayList","changeCurrentIndex","changeSequecePlayList","play","ImgWrapper","url","SaveButton","BgLayer","artist","picUrl","hotSongs","useState","showStatus","setShowStatus","handleBack","useCallback","musicNoteRef","CSSTransition","in","timeout","classNames","appear","unmountOnExit","onExited","history","goBack","savedShow","console","log"],"mappings":"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","file":"static/js/7.ffca2c8c.chunk.js","sourcesContent":["import React from \"react\";\nimport styled from \"styled-components\";\nimport style from \"../../assets/global-style\";\nimport PropTypes from \"prop-types\";\n\nconst HeaderContainer = styled.div`\n  position: fixed;\n  padding: 5px 10px;\n  padding-top: 0;\n  height: 40px;\n  width: 100%;\n  z-index: 100;\n  display: flex;\n  line-height: 40px;\n  color: ${style[\"font-color-light\"]};\n  .back {\n    margin-right: 5px;\n    font-size: 20px;\n    width: 20px;\n  }\n  > h1 {\n    font-size: ${style[\"font-size-l\"]};\n    font-weight: 700;\n  }\n`;\nconst Header = React.forwardRef((props, ref) => {\n  const { handleClick, title } = props;\n  return (\n    <HeaderContainer ref={ref}>\n      <i className=\"iconfont back\" onClick={handleClick}>\n        &#xe655;\n      </i>\n      <h1>{title}</h1>\n    </HeaderContainer>\n  );\n});\n\nHeader.defaultProps = {\n  handleClick: () => {},\n  title: \"title\",\n};\n\nHeader.propTypes = {\n  handleClick: PropTypes.func,\n  title: PropTypes.string,\n};\nexport default React.memo(Header);\n","import React, {\n  forwardRef,\n  useRef,\n  useEffect,\n  useImperativeHandle,\n} from \"react\";\nimport styled from \"styled-components\";\nimport { prefixStyle } from './../../api/utils';\nimport style from '../../assets/global-style';\nconst Container = styled.div`\n.icon_wrapper{\n    position: fixed;\n    z-index: 1000;\n    margin-top: -10px;\n    margin-left: -10px;\n    color: ${style[\"theme-color\"]};\n    font-size: 14px;\n    display: none;\n    transition: transform 1s cubic-bezier(.62,-0.1,.86,.57);\n    >div {\n        transition: transform 1s;\n    }\n}\n}`;\n// transform: translate3d (0, 0, 0);\n\nconst MusicNote = forwardRef((props, ref) => {\n  const iconsRef = useRef();\n  const ICON_NUMBER = 3;\n  const transform = prefixStyle (\"transform\");\n\n  const startAnimation = ({ x, y }) => {\n    for (let i = 0; i < ICON_NUMBER; i++) {\n        let domArray = [].slice.call(iconsRef.current.children);\n        let item = domArray[i];\n      if (item.running === false) {\n        item.style.left = x + \"px\";\n        item.style.top = y + \"px\";\n        item.style.display = \"inline-block\";\n      }\n\n      setTimeout(() => {\n        item.running = true;\n        item.style[transform] = `translate3d(0, 750px, 0)`;\n        let icon = item.querySelector(\"div\");\n        icon.style[transform] = `translate3d(-40px, 0, 0)`;\n      }, 0);\n    }\n  };\n\n  useImperativeHandle(ref, () => ({\n    startAnimation\n  }))\n  const createNode = (text) => {\n    const template = `<div class='icon_wrapper'>${text}</div>`;\n    let tempNode = document.createElement(\"div\");\n    tempNode.innerHTML = template;\n    return tempNode.firstChild;\n  };\n  useEffect(() => {\n    for (let i = 0; i < ICON_NUMBER; i++) {\n      let node = createNode(`<div class=\"iconfont\">&#xe642;</div>`);\n      iconsRef.current.appendChild(node);\n    }\n\n    // let domArray = [...iconsRef.current.children];\n    // let domArray = Array.from(iconsRef.current.children)\n    let domArray = [].slice.call(iconsRef.current.children);\n    domArray.forEach((item) => {\n      item.running = false;\n      item.addEventListener(\n        \"transitionend\",\n        function () {\n          this.style[\"display\"] = \"none\";\n          this.style[transform] = `translate3d(0,0,0)`;\n          this.running = false;\n\n          let icon = this.querySelector(\"div\");\n          icon.style[transform] = `translate3d(0, 0, 0)`;\n        },\n        false\n      );\n    });\n  }, []);\n  return <Container ref={iconsRef}></Container>;\n});\n\nexport default MusicNote;\n","import styled from \"styled-components\";\nimport style from \"../../assets/global-style\";\n\nexport const SongList = styled.div`\n  background: ${style[\"highlight-background-color\"]};\n  opacity: 0.98;\n  border-radius: 10px;\n  line-height: 24px;\n  .songlist_top {\n    line-height: 40px;\n    box-sizing: border-box;\n    display: flex;\n    // padding: 10px 0;\n    margin: 0;\n    position: relative;\n    border-bottom: 1px solid ${style[\"border-color\"]};\n    justify-content: space-between;\n    .play_all {\n      flex: 3;\n      align-items: center;\n      display: flex;\n      justify-content: center;\n    }\n\n    .save {\n      border-radius: 10px;\n      flex: 2;\n      background: ${style[\"theme-color\"]};\n      color: ${style[\"font-color-light\"]};\n      display: flex;\n      font-size: 0;\n      line-height: 34px;\n      justify-content: center;\n      > span {\n        font-size: 14px;\n        vertical-align: top;\n      }\n    }s\n  }\n`;\n\nexport const SongItem = styled.ul`\n  > li {\n    display: flex;\n    .index {\n      flex-basis: 60px;\n      text-align: center;\n    }\n    .info {\n      box-sizing: border-box;\n      flex: 1;\n      display: flex;\n      flex-direction: column;\n      padding: 5px 0;\n      ${style.noWrap()}\n      justify-content: space-around;\n      border-bottom: 1px solid ${style[\"border-color\"]};\n      > span {\n        ${style.noWrap()}\n      }\n      > span:first-child {\n        color: ${style[\"font-color-desc\"]};\n      }\n      > span:last-child {\n        font-size: ${style[\"font-size-s\"]};\n        color: #bba8a8;\n      }\n    }\n  }\n`;","import React from \"react\";\nimport { SongList, SongItem } from \"./style\";\nimport { getName } from \"../../api/utils\";\nimport { changePlayList, changeCurrentIndex, changeSequecePlayList } from './../../application/Player/store/actionCreators';\nimport { connect } from 'react-redux';\n\nconst SongsList = React.forwardRef((props, refs) => {\n  const { savedCount, songs, showSaved } = props;\n  const { changePlayListDispatch, changeCurrentIndexDispatch, changeSequecePlayListDispatch } = props;\n  const { musicAnimation } = props;\n  const selectItem = (e, index) => {\n    changePlayListDispatch(songs);\n    changeSequecePlayListDispatch(songs);\n    changeCurrentIndexDispatch(index);\n    musicAnimation(e.nativeEvent.clientX, e.nativeEvent.clientY);\n  }\n\n  let savedBy = (savedCount) => {\n    return (\n      <div className=\"save\">\n        <span>\n          <i className=\"iconfont\">&#xe62d;</i>\n          Saved({Math.floor(savedCount / 1000) / 10}w)\n        </span>\n      </div>\n    );\n  };\n  let songList = (list) => {\n    let res = list.map((item, index) => {\n      return (\n        <li key={index} onClick={(e) => selectItem(e, index)}>\n          <span className=\"index\">{index + 1}</span>\n          <div className=\"info\">\n            <span>{item.name}</span>\n            <span>\n              {item.ar ? getName(item.ar) : getName(item.artists)} -{\" \"}\n              {item.al ? item.al.name : item.album.name}\n            </span>\n          </div>\n        </li>\n      );\n    });\n    return res;\n  };\n\n  return (\n    <SongList ref={refs}>\n      <div className=\"songlist_top\">\n        <div className=\"play_all\" onClick={(e) => selectItem(e, 0)}>\n          <i className=\"iconfont\">&#xe6e3;</i>\n          Play all<span>({songs.length} in total)</span>\n        </div>\n        {showSaved ? savedBy(savedCount) : null}\n      </div>\n      <SongItem>{songList(songs)}</SongItem>\n    </SongList>\n  );\n});\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    changePlayListDispatch(data) {\n      dispatch(changePlayList(data));\n    },\n    changeCurrentIndexDispatch(data) {\n      dispatch(changeCurrentIndex(data));\n    },\n    changeSequecePlayListDispatch(data) {\n      dispatch(changeSequecePlayList(data))\n    }\n  }\n};\nexport default connect(null, mapDispatchToProps)(React.memo(SongsList));\n","import styled from \"styled-components\";\nimport style from \"../../assets/global-style\";\n\nexport const Container = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: ${(props) => (props.play > 0 ? \"60px\" : 0)};\n  width: 100%;\n  z-index: 100;\n  overflow: hidden;\n  background: #f2f3f4;\n  transform-origin: right bottom;\n  &.fly-enter &.fly-appear {\n    transform: rotateZ(30deg) translate3d(100%, 0, 0);\n  }\n  &.fly-appear-active,\n  &.fly-enter-active {\n    transition: transform 0.3s;\n    transform: rotateZ(0deg) translate3d(0, 0, 0);\n  }\n  &.fly-exit {\n    transform: rotateZ(0deg) translate3d(0, 0, 0);\n  }\n  &.fly-exit-active {\n    transition: transform 0.3s;\n    transform: rotateZ(30deg) translate3d(100%, 0, 0);\n  }\n`;\n\nexport const ImgWrapper = styled.div`\n  width: 100%;\n  height: 0;\n  padding-top: 75%;\n  background: url(${(props) => props.url});\n  background-size: cover;\n  .filter {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: rgba(7, 17, 27, 0.3);\n  }\n`;\n\nexport const SaveButton = styled.div`\n  position: absolute;\n  left: 0; right: 0;\n//   margin: auto;\n  width: 120px;\n  text-align: center;\n  margin-top: -25%;\n  background: ${style[\"theme-color\"]};\n  border-radius: 20px;\n  .iconfont{\n    display: inline-block;\n    margin-right: 10px;\n    font-size: 12px;\n    vertical-align: 1px;\n  }\n  .text {\n    display: inline-block;\n    font-size:14px;\n    letter-spacing: 5px;\n  }\n`;\n\nexport const BgLayer = styled.div`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  width: 100%;\n  background: white;\n  border-radius: 10px;\n  z-index: -50;\n`","import React, { useState,useCallback, useRef } from \"react\";\nimport { CSSTransition } from \"react-transition-group\";\nimport { Container, SaveButton, ImgWrapper, BgLayer } from \"./style\";\nimport Header from \"../../baseUI/header/index\";\nimport SongList from \"../SongList\";\nimport MusicNote from \"../../baseUI/music-note/index\";\n\n\nconst artist = {\n  picUrl:\n    \"https://p2.music.126.net/W__FCWFiyq0JdPtuLJoZVQ==/109951163765026271.jpg\",\n  name: \"薛之谦\",\n  hotSongs: [\n    {\n      name: \"我好像在哪见过你\",\n      ar: [{ name: \"薛之谦\" }],\n      al: {\n        name: \"薛之谦专辑\",\n      },\n    },\n    {\n      name: \"我好像在哪见过你\",\n      ar: [{ name: \"薛之谦\" }],\n      al: {\n        name: \"薛之谦专辑\",\n      },\n    },\n    // 省略 20 条\n  ],\n};\n\nfunction Singer(props) {\n  const [showStatus, setShowStatus] = useState(true);\n  const handleBack = useCallback(() => {\n    setShowStatus(false);\n  }, []);\n  const musicAnimation = (x, y) => {\n    musicNoteRef.current.startAnimation({ x, y });\n    console.log(x + y);\n  };\n  const musicNoteRef = useRef ();\n  return (\n    <CSSTransition\n      in={showStatus}\n      timeout={300}\n      classNames=\"fly\"\n      appear={true}\n      unmountOnExit\n      onExited={() => props.history.goBack()}\n    >\n      <Container>\n        <Header title={artist.name} handleClick={handleBack}></Header>\n        <div className=\"filter\"></div>\n        <ImgWrapper url={artist.picUrl}></ImgWrapper>\n        <SaveButton>\n          <i className=\"iconfont\">&#xe62d;</i>\n          <span className=\"text\">Save </span>\n        </SaveButton>\n        <BgLayer></BgLayer>\n        {/* <SongListWrapper> */}\n        {/* </SongListWrapper> */}\n            <SongList\n            songs ={ artist.hotSongs}\n            savedShow = {false}\n            musicAnimation={musicAnimation}\n            />\n            <MusicNote ref={musicNoteRef} />\n      </Container>\n    </CSSTransition>\n  );\n}\n\nexport default React.memo(Singer);\n"],"sourceRoot":""}