(this["webpackJsonpcloud-music"]=this["webpackJsonpcloud-music"]||[]).push([[6],{153:function(n,e,t){"use strict";var a=t(2),i=t(0),r=t.n(i),o=t(3),l=t(1);function c(){var n=Object(a.a)(["\n  position: fixed;\n  padding: 5px 10px;\n  padding-top: 0;\n  height: 40px;\n  width: 100%;\n  z-index: 100;\n  display: flex;\n  line-height: 40px;\n  color: ",";\n  .back {\n    margin-right: 5px;\n    font-size: 20px;\n    width: 20px;\n  }\n  > h1 {\n    font-size: ",";\n    font-weight: 700;\n  }\n"]);return c=function(){return n},n}var s=o.b.div(c(),l.a["font-color-light"],l.a["font-size-l"]),u=r.a.forwardRef((function(n,e){var t=n.handleClick,a=n.title;return r.a.createElement(s,{ref:e},r.a.createElement("i",{className:"iconfont back",onClick:t},"\ue655"),r.a.createElement("h1",null,a))}));u.defaultProps={handleClick:function(){},title:"title"},e.a=r.a.memo(u)},154:function(n,e,t){"use strict";var a=t(2),i=t(0),r=t.n(i),o=t(3),l=t(6),c=t(1);function s(){var n=Object(a.a)(["\n.icon_wrapper{\n    position: fixed;\n    z-index: 1000;\n    margin-top: -10px;\n    margin-left: -10px;\n    color: ",";\n    font-size: 14px;\n    display: none;\n    transition: transform 1s cubic-bezier(.62,-0.1,.86,.57);\n    >div {\n        transition: transform 1s;\n    }\n}\n}"]);return s=function(){return n},n}var u=o.b.div(s(),c.a["theme-color"]),d=Object(i.forwardRef)((function(n,e){var t=Object(i.useRef)(),a=Object(l.j)("transform"),o=function(n){for(var e=n.x,i=n.y,r=function(n){var r=[].slice.call(t.current.children)[n];!1===r.running&&(r.style.left=e+"px",r.style.top=i+"px",r.style.display="inline-block"),setTimeout((function(){r.running=!0,r.style[a]="translate3d(0, 750px, 0)",r.querySelector("div").style[a]="translate3d(-40px, 0, 0)"}),0)},o=0;o<3;o++)r(o)};Object(i.useImperativeHandle)(e,(function(){return{startAnimation:o}}));var c=function(n){var e="<div class='icon_wrapper'>".concat(n,"</div>"),t=document.createElement("div");return t.innerHTML=e,t.firstChild};return Object(i.useEffect)((function(){for(var n=0;n<3;n++){var e=c('<div class="iconfont">&#xe642;</div>');t.current.appendChild(e)}[].slice.call(t.current.children).forEach((function(n){n.running=!1,n.addEventListener("transitionend",(function(){this.style.display="none",this.style[a]="translate3d(0,0,0)",this.running=!1,this.querySelector("div").style[a]="translate3d(0, 0, 0)"}),!1)}))}),[]),r.a.createElement(u,{ref:t})}));e.a=d},155:function(n,e,t){"use strict";var a=t(0),i=t.n(a),r=t(2),o=t(3),l=t(1);function c(){var n=Object(r.a)(["\n  > li {\n    display: flex;\n    .index {\n      flex-basis: 60px;\n      text-align: center;\n    }\n    .info {\n      box-sizing: border-box;\n      flex: 1;\n      display: flex;\n      flex-direction: column;\n      padding: 5px 0;\n      ","\n      justify-content: space-around;\n      border-bottom: 1px solid ",";\n      > span {\n        ","\n      }\n      > span:first-child {\n        color: ",";\n      }\n      > span:last-child {\n        font-size: ",";\n        color: #bba8a8;\n      }\n    }\n  }\n"]);return c=function(){return n},n}function s(){var n=Object(r.a)(["\n  background: ",";\n  opacity: 0.98;\n  border-radius: 10px;\n  line-height: 24px;\n  .songlist_top {\n    line-height: 40px;\n    box-sizing: border-box;\n    display: flex;\n    // padding: 10px 0;\n    margin: 0;\n    position: relative;\n    border-bottom: 1px solid ",";\n    justify-content: space-between;\n    .play_all {\n      flex: 3;\n      align-items: center;\n      display: flex;\n      justify-content: center;\n    }\n\n    .save {\n      border-radius: 10px;\n      flex: 2;\n      background: ",";\n      color: ",";\n      display: flex;\n      font-size: 0;\n      line-height: 34px;\n      justify-content: center;\n      > span {\n        font-size: 14px;\n        vertical-align: top;\n      }\n    }s\n  }\n"]);return s=function(){return n},n}var u=o.b.div(s(),l.a["highlight-background-color"],l.a["border-color"],l.a["theme-color"],l.a["font-color-light"]),d=o.b.ul(c(),l.a.noWrap(),l.a["border-color"],l.a.noWrap(),l.a["font-color-desc"],l.a["font-size-s"]),f=t(6),p=t(8),m=t(27),b=i.a.forwardRef((function(n,e){var t=n.savedCount,a=n.songs,r=n.showSaved,o=n.changePlayListDispatch,l=n.changeCurrentIndexDispatch,c=n.changeSequecePlayListDispatch,s=n.musicAnimation,p=function(n,e){o(a),c(a),l(e),s(n.nativeEvent.clientX,n.nativeEvent.clientY)};return i.a.createElement(u,{ref:e},i.a.createElement("div",{className:"songlist_top"},i.a.createElement("div",{className:"play_all",onClick:function(n){return p(n,0)}},i.a.createElement("i",{className:"iconfont"},"\ue6e3"),"Play all",i.a.createElement("span",null,"(",a.length," in total)")),r?function(n){return i.a.createElement("div",{className:"save"},i.a.createElement("span",null,i.a.createElement("i",{className:"iconfont"},"\ue62d"),"Saved(",Math.floor(n/1e3)/10,"w)"))}(t):null),i.a.createElement(d,null,a.map((function(n,e){return i.a.createElement("li",{key:e,onClick:function(n){return p(n,e)}},i.a.createElement("span",{className:"index"},e+1),i.a.createElement("div",{className:"info"},i.a.createElement("span",null,n.name),i.a.createElement("span",null,n.ar?Object(f.f)(n.ar):Object(f.f)(n.artists)," -"," ",n.al?n.al.name:n.album.name)))}))))}));e.a=Object(m.b)(null,(function(n){return{changePlayListDispatch:function(e){n(Object(p.d)(e))},changeCurrentIndexDispatch:function(e){n(Object(p.a)(e))},changeSequecePlayListDispatch:function(e){n(Object(p.g)(e))}}}))(i.a.memo(b))},166:function(n,e,t){"use strict";t.r(e);var a=t(7),i=t(0),r=t.n(i),o=t(2),l=t(3),c=t(1);function s(){var n=Object(o.a)(["\n  // position: relative;\n  display: flex;\n  justify-content: space-between;\n  margin-top: -100px;\n  padding: 20px 30px;\n  color: ",";\n  > div {\n    display: flex;\n    flex-direction: column;\n  }\n"]);return s=function(){return n},n}function u(){var n=Object(o.a)(["\n  background-size: 100%;\n  height: 275px;\n  display: flex;\n  align-items: center;\n  padding: 5px 20px;\n  justify-content: space-around;\n  padding-bottom: 20px;\n  marigin-bottom: 20px;\n  position: relative;\n  .background {\n    z-index: -1;\n    background: url(",") no-repeat;\n    width: 100%;\n    height: 100%;\n    background-size: 100% 100%;\n    background-position: 0 0;\n    position: absolute;\n    filter: blur(20px);\n    .filter {\n      position: absolute;\n      z-index: 10;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(7, 17, 27, 0.2);\n    }\n  }\n  .img_wrapper_left {\n    width: 120px;\n    height: 120px;\n    position: relative;\n    img {\n      width: 120px;\n      height: 120px;\n      border-radius: 3px;\n    }\n    .decorate {\n      position: absolute;\n      top: 0;\n      width: 100%;\n      height: 35px;\n      border-radius: 3px;\n      background: linear-gradient(hsla(0, 0%, 43%, 0.4), hsla(0, 0%, 100%, 0));\n    }\n    .play_amount {\n      right: 2px;\n      top: 2px;\n      position: absolute;\n      font-size: ",";\n      line-height: 15px;\n      color: ",";\n      .play {\n        vertical-align: top;\n      }\n    }\n  }\n  .desc_wrapper_right {\n    display: flex;\n    flex-direction: column;\n    height: 120px;\n    padding: 0 10px;\n    .title {\n      color: ",";\n      font-size: ",";\n      max-height: 70px;\n      line-height: 1.5;\n      padding: 10px 0;\n    }\n    .author {\n      display: flex;\n      .avatar {\n        margin-right: 5px;\n      }\n      .name {\n        line-height: 20px;\n        font-size: ",";\n        color: ",";\n      }\n    }\n    img {\n      width: 20px;\n      height: 20px;\n      border-radius: 50%;\n    }\n  }\n"]);return u=function(){return n},n}function d(){var n=Object(o.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 1000;\n  background: \xa3fff;\n  transform-origin: right bottom;\n  &.fly-enter,\n  &.fly-appear {\n    transform: rotateZ(30deg) translate3d(100%, 0, 0);\n  }\n  &.fly-enter-active,\n  &.fly-appear-active {\n    transition: transform 0.3s;\n    transform: rotateZ(0deg) translate3d(0, 0, 0);\n  }\n  &.fly-exit {\n    transform: rotateZ(0deg) translate3d(0, 0, 0);\n  }\n  &.fly-exit-active {\n    transition: transform 0.3s;\n    transform: rotateZ(30deg) translate3d(100%, 0, 0);\n  }\n"]);return d=function(){return n},n}var f=l.b.div(d()),p=l.b.div(u(),(function(n){return n.background}),c.a["font-size-s"],c.a["font-color-light"],c.a["font-color-light"],c.a["font-size-l"],c.a["font-size-m"],c.a["font-color-desc-v2"]),m=l.b.div(s(),c.a["font-color-light"]),b=t(147),g=t(153),h=t(34),x=t(6),v=t(27),y=t(52),E=t(155),j=t(9),k=t(154);e.default=Object(v.b)((function(n){return{currentAlbum:n.getIn(["album","currentAlbum"]),enterLoading:n.getIn(["album","enterLoading"])}}),(function(n){return{getAlbumDataDispatch:function(e){n(Object(y.a)(!0)),n(Object(y.b)(e))}}}))(r.a.memo((function(n){var e=Object(i.useState)(!0),t=Object(a.a)(e,2),o=t[0],l=t[1],s=Object(i.useState)(!1),u=Object(a.a)(s,2),d=(u[0],u[1]),v=Object(i.useRef)(),y=n.match.params.id,O=n.currentAlbum,w=(n.enterLoading,n.getAlbumDataDispatch),N=Object(i.useState)("\u6b4c\u5355"),z=Object(a.a)(N,2),C=(z[0],z[1]),_=Object(i.useRef)();Object(i.useEffect)((function(){w(y)}),[w,y]);var S=Object(i.useCallback)((function(){l(!1)}),[]),D=O.toJS();return Object(i.useCallback)((function(n){var e=-j.a,t=Math.abs(n.y/e),a=v.current;n.y<e?(a.style.backgroundColor=c.a["theme-color"],a.style.opacity=Math.min(1,(t-1)/2),C(D.name),d(!0)):(a.style.backgroundColor="",a.style.opacity=1,C("\u6b4c\u5355"),d(!1))}),[D]),r.a.createElement(b.a,{in:o,timeout:300,classNames:"fly",appear:!0,unmountOnExit:!0,onExited:n.history.goBack},r.a.createElement(f,null,r.a.createElement(g.a,{title:"back",handleClick:S}),Object(x.i)(D)?null:r.a.createElement(h.a,null,r.a.createElement("div",null,r.a.createElement(p,{background:D.coverImgUrl},r.a.createElement("div",{className:"background"},r.a.createElement("div",{className:"filter"})),r.a.createElement("div",{className:"img_wrapper_left"},r.a.createElement("div",{className:"decorate"}),r.a.createElement("img",{src:D.coverImgUrl,alt:""}),r.a.createElement("div",{className:"play_amount"},r.a.createElement("i",{className:"iconfont play"},"\ue885"),r.a.createElement("span",{className:"amount"},"".concat(Math.floor(D.subscribedCount/1e3),"W")))),r.a.createElement("div",{className:"desc_wrapper_right"},r.a.createElement("div",{className:"title"},D.name),r.a.createElement("div",{className:"author"},r.a.createElement("div",{className:"avatar"},r.a.createElement("img",{src:D.creator.avatarUrl,alt:""})),r.a.createElement("div",{className:"name"},D.creator.username)))),r.a.createElement(m,null,r.a.createElement("div",null,r.a.createElement("i",{className:"iconfont"},"\ue6ad"),"Comment"),r.a.createElement("div",null,r.a.createElement("i",{className:"iconfont"},"\ue86f"),"Like"),r.a.createElement("div",null,r.a.createElement("i",{className:"iconfont"},"\ue62d"),"Save"),r.a.createElement("div",null,r.a.createElement("i",{className:"iconfont"},"\ue606"),"More")),r.a.createElement(E.a,{savedCount:D.subscribedCount,songs:D.tracks,showSaved:!0,musicAnimation:function(n,e){_.current.startAnimation({x:n,y:e})}}),r.a.createElement(k.a,{ref:_})))))})))}}]);
//# sourceMappingURL=6.7caa6ac4.chunk.js.map